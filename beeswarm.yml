test_name: 'lulesh-run'
email: jtronge@kent.edu
name: 'Jake Tronge'
beeswarm_repo_owner: jtronge
beeswarm_repo: BeeSwarm
wfm_port: 8020
tm_port: 7866
bee_branch: 'beeswarm'
ctr_archive: '${HOME}/.beeflow/container_archive'
# LULESH scaling tests (numRanks needs to be number of nodes)
# numRanks * nx * nx * nx
# 0: 1 * 60 * 60 * 60
# 1: (2 * 2 * 2) * 30 * 30 * 30 = 8 * 30 * 30 * 30
# 2: (6 * 6 * 6) * 10 * 10 * 10 = 216 * 10 * 10 * 10
scale_tests:
  - name: 'lulesh-1-core'
    wfl_dir: './workflows/lulesh-mpi'
    # Workflow params
    params:
      container: 'jtronge/lulesh:mpi-no-openmp'
      ntasks: 1
    template_files: ['lulesh.cwl']
    main_cwl: 'lulesh.cwl'
    # yaml: 'lulesh.yml'
    inputs:
      size: 60
      iterations: 600
    container:
      ctx_dir: 'containers/lulesh'
      name: 'lulesh:mpi-no-openmp'
      remote: 'jtronge/lulesh:mpi-no-openmp'
      build_args: {}
  - name: 'lulesh-8-core'
    wfl_dir: './workflows/lulesh-mpi'
    # Workflow params
    params:
      container: 'jtronge/lulesh:mpi-no-openmp'
      ntasks: 8
    template_files: ['lulesh.cwl']
    main_cwl: 'lulesh.cwl'
    # yaml: 'lulesh.yml'
    inputs:
      size: 60
      iterations: 600
    container:
      ctx_dir: 'containers/lulesh'
      name: 'lulesh:mpi-no-openmp'
      remote: 'jtronge/lulesh:mpi-no-openmp'
      build_args: {}
  - name: 'lulesh-27-core'
    wfl_dir: './workflows/lulesh-mpi'
    # Workflow params
    params:
      container: 'jtronge/lulesh:mpi-no-openmp'
      ntasks: 27
    template_files: ['lulesh.cwl']
    main_cwl: 'lulesh.cwl'
    # yaml: 'lulesh.yml'
    inputs:
      size: 60
      iterations: 600
    container:
      ctx_dir: 'containers/lulesh'
      name: 'lulesh:mpi-no-openmp'
      remote: 'jtronge/lulesh:mpi-no-openmp'
      build_args: {}
  - name: 'lulesh-64-core'
    wfl_dir: './workflows/lulesh-mpi'
    # Workflow params
    params:
      container: 'jtronge/lulesh:mpi-no-openmp'
      ntasks: 64
    template_files: ['lulesh.cwl']
    main_cwl: 'lulesh.cwl'
    # yaml: 'lulesh.yml'
    inputs:
      size: 60
      iterations: 600
    container:
      ctx_dir: 'containers/lulesh'
      name: 'lulesh:mpi-no-openmp'
      remote: 'jtronge/lulesh:mpi-no-openmp'
      build_args: {}
  - name: 'lulesh-125-core'
    wfl_dir: './workflows/lulesh-mpi'
    # Workflow params
    params:
      container: 'jtronge/lulesh:mpi-no-openmp'
      ntasks: 125
    template_files: ['lulesh.cwl']
    main_cwl: 'lulesh.cwl'
    # yaml: 'lulesh.yml'
    inputs:
      size: 60
      iterations: 600
    container:
      ctx_dir: 'containers/lulesh'
      name: 'lulesh:mpi-no-openmp'
      remote: 'jtronge/lulesh:mpi-no-openmp'
      build_args: {}
private_key_data: ${PRIVATE_KEY_DATA}
private_key_path: '${HOME}/key'
cloud_conf_path: '$HOME/cloud.yml'
